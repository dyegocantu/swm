{% extends 'base.html' %}
{% load staticfiles %}
{% block css %}
<link href="{% static "css/charts.css" %}" rel="stylesheet"/> 
{% endblock css %}
{% block content %}
<ul class="breadcrumb">
    <li><a href="/">Principal</a><span class="divider">/</span></li>
    <li><a href="/charts/">Gr√°fico</a><span class="divider">/</span></li>
    <li class="active">Resultado</li>
</ul>
{% if data %}
<div id="placeholder"></div>
{% block js %}
<script src="{% static "js/jquery.min.js" %}"></script>
<script src="{% static "js/jquery.flot.min.js" %}"></script>
<!--[if lte IE 8]>
<script language="javascript" type="text/javascript" src="{% static "js/excanvas.min.js" %}"></script>
<![endif]-->
<script src="{% static "js/flot/jquery.flot.time.js" %}"></script>
<script>
    $(function() {

        function onDataReceived(items) {
            console.log([items]);
            $.plot("#placeholder", [items]);
        }

        $.ajax({
            url: "/charts",
            type: "GET",
            dataType: "json",
            success: onDataReceived
        });
    });
/*    
    $(function() {
        var data = {{ data }};
        console.log(data);
        $.plot("#placeholder", [{data: data, label: "Temperatura"},
            {data: data, label: "Umidade"}],
            { xaxis: {mode: "time", timeformat: "%d/%m/%y %H:%M"}});
    });
*/
</script>
{% endblock js %}
{% elif data|length == 0 %}
<p>Nenhum registro encontrado.</p>
{% endif %}
{% endblock content %}

